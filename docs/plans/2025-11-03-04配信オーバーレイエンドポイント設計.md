# 配信用オーバーレイ専用エンドポイント設計（完了）

## ステータス

- `/overlay` エンドポイントは実装・動作確認済み。OBS での利用方法は `docs/specs/obs_integration.md` に整理済み。
- 当初の設計メモを圧縮し、主要な決定内容だけを記載する。

## 決定事項の要約

- `GET /overlay` は HTML を返し、クエリパラメータでテーマ (`dark` / `light` / `transparent`)、スケール、履歴件数、Draw の表示有無、ポーリング間隔を調整できる。
- タイムスタンプはローカルタイムゾーンで `HH:MM:SS` 表示。`overlay-` プレフィックス付きの CSS クラスを付与し、OBS のカスタム CSS から上書きしやすくした。
- 更新ロジックは `/state` を一定間隔で取得するポーリング方式とし、OBS 側からのリロードなしで最新カウントを反映する。
- 今後の UI リファクタリングやコンポーネント共有計画は `docs/plans/2025-11-03-02フェーズ7TODO.md` のフェーズ7-D タスクで追跡する。
