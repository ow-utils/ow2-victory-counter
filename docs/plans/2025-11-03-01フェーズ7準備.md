# フェーズ7移行前の準備タスク

## 目的

フェーズ7（最終調整と CI 整備）に入る前に、残作業を整理し、優先度と担当を明確化する。

## 優先タスク

1. **画像解析ロジックの立案**

   - Victory/Defeat/Draw を自動検出するためのテンプレートマッチング、OCR、色空間変換などの候補技術を比較する。
   - オーバーレイに渡すスナップショット形式と更新周期を決定する。
   - 検証用にキャプチャ画像サンプルを収集し、ラベリング方法を決める。

2. **引き分け（Draw）対応計画**

   - データモデル（イベントログ、API、UI）で draw を扱うためのフィールド拡張と互換性確認。
   - 手動補正フォーム、サーバテストの修正範囲を洗い出す。

3. **静的配信用ビルド戦略の検討**

   - `victory-counter-overlay-ui` のビルド/ホスティング方法を決める（Vite などの導入可否）。
   - OBS での自前ホスティングとローカルファイル読み込みの比較検討。

4. **CI パイプライン草案**
   - Python/Node 双方の lint/test を GitHub Actions で走らせるジョブ設計。
   - 画像解析が入る場合のテストデータ管理とキャッシュ戦略を定義する。

## 補足メモ

- `docs/specs/api.md` と `docs/specs/obs_integration.md` を随時更新し、仕様変更が発生したら即座に反映する。
- キャプチャ画像のサンプルはリポジトリへ直接コミットせず、参照先の共有方法（Git LFS、外部ストレージ）を決める。
- 今後作成する計画ドキュメントは、このファイル命名規則（`YYYY-MM-DD-XXタイトル.md`）を遵守する。
