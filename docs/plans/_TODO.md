# ow2-victory-counter-rs å®Ÿè£…TODO

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Rustç‰ˆOverwatch 2å‹æ•—ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å®Ÿè£…ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã§ã™ã€‚

**å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:

- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](../specs/ow2-victory-counter-rsã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ.md)
- [å®Ÿè£…è©³ç´°](./2025-11-16-04å®Ÿè£…è©³ç´°.md)

## ã‚¿ã‚¹ã‚¯å‡¡ä¾‹

- ğŸ”´ å„ªå…ˆåº¦: é«˜ï¼ˆå¿…é ˆã€ä»–ã‚¿ã‚¹ã‚¯ã®ä¾å­˜å…ƒï¼‰
- ğŸŸ¡ å„ªå…ˆåº¦: ä¸­ï¼ˆé‡è¦ã ãŒä¾å­˜é–¢ä¿‚ã¯å°‘ãªã„ï¼‰
- ğŸŸ¢ å„ªå…ˆåº¦: ä½ï¼ˆå¾Œå›ã—å¯èƒ½ï¼‰
- âœ… å®Œäº†
- ğŸš§ é€²è¡Œä¸­
- â³ æœªç€æ‰‹

---

## 1. ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ğŸ”´ 1.1 Rustç’°å¢ƒæ§‹ç¯‰

- âœ… Rust 1.70ä»¥ä¸Šã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  ```bash
  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
  rustc --version  # 1.70ä»¥ä¸Šã‚’ç¢ºèª
  ```
- **ä¾å­˜é–¢ä¿‚**: ãªã—
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#é–‹ç™ºç’°å¢ƒ](./2025-11-16-04å®Ÿè£…è©³ç´°.md#é–‹ç™ºç’°å¢ƒ)

### ğŸ”´ 1.2 JavaScriptç’°å¢ƒæ§‹ç¯‰

- âœ… Node.js 18.xä»¥ä¸Šã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  ```bash
  nvm install 18
  nvm use 18
  node --version  # v18.xä»¥ä¸Šã‚’ç¢ºèª
  ```
- âœ… pnpm 8.xä»¥ä¸Šã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  ```bash
  npm install -g pnpm
  pnpm --version  # 8.xä»¥ä¸Šã‚’ç¢ºèª
  ```
- **ä¾å­˜é–¢ä¿‚**: ãªã—
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#é–‹ç™ºç’°å¢ƒ](./2025-11-16-04å®Ÿè£…è©³ç´°.md#é–‹ç™ºç’°å¢ƒ)

---

## 2. ãƒªãƒã‚¸ãƒˆãƒªãƒ¼æ§‹é€ ä½œæˆ

### ğŸ”´ 2.1 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹é€ ä½œæˆ

- â³ `packages/ow2-victory-counter-rs/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ä½œæˆ
  ```bash
  mkdir -p packages/ow2-victory-counter-rs/{src/{server,state,predictor,capture},frontend/{obs-ui,admin-ui},models,config,templates}
  ```
- **ä¾å­˜é–¢ä¿‚**: 1.1, 1.2
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ãƒªãƒã‚¸ãƒˆãƒªãƒ¼æ§‹é€ ](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ãƒªãƒã‚¸ãƒˆãƒªãƒ¼æ§‹é€ )

### ğŸ”´ 2.2 Cargo.tomlè¨­å®š

- â³ `Cargo.toml` ä½œæˆ
  ```toml
  [package]
  name = "ow2-victory-detector"
  version = "0.1.0"
  edition = "2021"

  [dependencies]
  axum = "0.7"
  tokio = { version = "1", features = ["full"] }
  tokio-stream = "0.1"
  serde = { version = "1", features = ["derive"] }
  serde_json = "1"
  ort = { version = "2", features = ["download-binaries"] }
  ndarray = "0.15"
  opencv = "0.91"
  obws = "0.11"
  base64 = "0.21"
  tracing = "0.1"
  tracing-subscriber = "0.3"
  ```
- **ä¾å­˜é–¢ä¿‚**: 2.1
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#é–‹ç™ºç’°å¢ƒ](./2025-11-16-04å®Ÿè£…è©³ç´°.md#é–‹ç™ºç’°å¢ƒ)

### ğŸ”´ 2.3 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰package.jsonè¨­å®š

- â³ `frontend/obs-ui/package.json` ä½œæˆ
- â³ `frontend/admin-ui/package.json` ä½œæˆ
  ```json
  {
    "name": "obs-ui",
    "version": "0.1.0",
    "type": "module",
    "scripts": {
      "dev": "vite",
      "build": "vite build",
      "preview": "vite preview"
    },
    "devDependencies": {
      "@sveltejs/vite-plugin-svelte": "^3.0.0",
      "svelte": "^4.0.0",
      "typescript": "^5.0.0",
      "vite": "^5.0.0"
    }
  }
  ```
- **ä¾å­˜é–¢ä¿‚**: 2.1
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#é–‹ç™ºç’°å¢ƒ](./2025-11-16-04å®Ÿè£…è©³ç´°.md#é–‹ç™ºç’°å¢ƒ)

---

## 3. Viteé–‹ç™ºç’°å¢ƒè¨­å®š

### ğŸ”´ 3.1 Viteè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

- â³ `frontend/obs-ui/vite.config.ts` ä½œæˆ
- â³ `frontend/admin-ui/vite.config.ts` ä½œæˆ
  ```typescript
  import { defineConfig } from "vite";
  import { svelte } from "@sveltejs/vite-plugin-svelte";

  export default defineConfig({
    plugins: [svelte()],
    server: {
      port: 5173,
      proxy: {
        "/events": {
          target: "http://localhost:3000",
          changeOrigin: true,
        },
        "/api": {
          target: "http://localhost:3000",
          changeOrigin: true,
        },
        "/custom.css": {
          target: "http://localhost:3000",
          changeOrigin: true,
        },
      },
    },
  });
  ```
- **ä¾å­˜é–¢ä¿‚**: 2.3
- **ç›®çš„**: Vite dev serverãŒAPIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’Rustã‚µãƒ¼ãƒãƒ¼ã«ãƒ—ãƒ­ã‚­ã‚·

### ğŸ”´ 3.2 TypeScriptè¨­å®š

- â³ `frontend/obs-ui/tsconfig.json` ä½œæˆ
- â³ `frontend/admin-ui/tsconfig.json` ä½œæˆ
  ```json
  {
    "extends": "@tsconfig/svelte/tsconfig.json",
    "compilerOptions": {
      "target": "ES2020",
      "module": "ESNext",
      "moduleResolution": "bundler",
      "resolveJsonModule": true,
      "allowJs": true,
      "checkJs": true,
      "isolatedModules": true
    },
    "include": ["src/**/*.ts", "src/**/*.svelte"],
    "exclude": ["node_modules"]
  }
  ```
- **ä¾å­˜é–¢ä¿‚**: 2.3

### ğŸŸ¡ 3.3 é–‹ç™ºãƒ•ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- â³ é–‹ç™ºãƒ•ãƒ­ãƒ¼ã® README ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
  - **é–‹ç™ºãƒ¢ãƒ¼ãƒ‰**: Vite dev serverï¼ˆ`pnpm dev`ï¼‰+ Rustã‚µãƒ¼ãƒãƒ¼ï¼ˆ`cargo run`ï¼‰ä¸¦è¡Œèµ·å‹•
  - **æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ï¼ˆ`pnpm build`ï¼‰â†’ Rustãƒã‚¤ãƒŠãƒªãƒ¼ã«çµ„ã¿è¾¼ã¿
- **ä¾å­˜é–¢ä¿‚**: 3.1, 3.2

---

## 4. Rustå®Ÿè£…

### ğŸ”´ 4.1 ç”»åƒå–å¾—ãƒ»å‰å‡¦ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

- â³ `src/capture/mod.rs` ä½œæˆ
- â³ `src/capture/obs.rs` ä½œæˆ
  - `OBSCapture` æ§‹é€ ä½“
  - `capture()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆOBS WebSocketçµŒç”±ã§ç”»åƒå–å¾—ï¼‰
  - `preprocess()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆBase64ãƒ‡ã‚³ãƒ¼ãƒ‰ã€PNGãƒ‡ã‚³ãƒ¼ãƒ‰ã€ã‚¯ãƒ­ãƒƒãƒ—ï¼‰
- **ä¾å­˜é–¢ä¿‚**: 2.2
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ç”»åƒå–å¾—ãƒ»å‰å‡¦ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](./2025-11-16-04å®Ÿè£…è©³ç´°.md#1-ç”»åƒå–å¾—å‰å‡¦ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)

### ğŸ”´ 4.2 CNNæ¨è«–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

- â³ `src/predictor/mod.rs` ä½œæˆ
- â³ `src/predictor/onnx.rs` ä½œæˆ
  - `VictoryPredictor` æ§‹é€ ä½“
  - `new()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆONNX RuntimeåˆæœŸåŒ–ã€label_mapèª­ã¿è¾¼ã¿ï¼‰
  - `predict()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆç”»åƒâ†’ãƒ†ãƒ³ã‚½ãƒ«å¤‰æ›â†’æ¨è«–â†’ãƒ©ãƒ™ãƒ«å¤‰æ›ï¼‰
  - `Detection` æ§‹é€ ä½“
- **ä¾å­˜é–¢ä¿‚**: 2.2, 7.1ï¼ˆONNXãƒ¢ãƒ‡ãƒ«ï¼‰
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#CNNæ¨è«–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](./2025-11-16-04å®Ÿè£…è©³ç´°.md#2-cnn-æ¨è«–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)

### ğŸ”´ 4.3 StateManager

- â³ `src/state/mod.rs` ä½œæˆ
- â³ `src/state/manager.rs` ä½œæˆ
  - `State` enumï¼ˆReady, Cooldown, WaitingForNoneï¼‰
  - `StateManager` æ§‹é€ ä½“
  - `record_detection()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆé€£ç¶šæ¤œçŸ¥åˆ¤å®šã€çŠ¶æ…‹é·ç§»ï¼‰
  - `initialize()` / `adjust()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆREST APIç”¨ï¼‰
  - `broadcast_update()` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆSSEé…ä¿¡ï¼‰
- **ä¾å­˜é–¢ä¿‚**: 2.2
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#StateManager](./2025-11-16-04å®Ÿè£…è©³ç´°.md#3-statemanager)

### ğŸ”´ 4.4 HTTPã‚µãƒ¼ãƒãƒ¼

- â³ `src/server/mod.rs` ä½œæˆ
- â³ `src/server/routes.rs` ä½œæˆ
  - `app()` é–¢æ•°ï¼ˆaxum Routerè¨­å®šï¼‰
  - `serve_obs_ui()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆGET /ï¼‰
  - `serve_admin_ui()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆGET /adminï¼‰
  - `serve_custom_css()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆGET /custom.cssï¼‰
  - `sse_handler()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆGET /eventsï¼‰
  - `get_status()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆGET /api/statusï¼‰
  - `initialize()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆPOST /api/initializeï¼‰
  - `adjust()` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆPOST /api/adjustï¼‰
- **ä¾å­˜é–¢ä¿‚**: 2.2, 4.3, 5.1, 5.2ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰æˆæœç‰©ï¼‰
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#HTTPã‚µãƒ¼ãƒãƒ¼](./2025-11-16-04å®Ÿè£…è©³ç´°.md#4-http-ã‚µãƒ¼ãƒãƒ¼)

### ğŸŸ¡ 4.5 è¨­å®šç®¡ç†

- â³ `src/config.rs` ä½œæˆ
  - `Config` æ§‹é€ ä½“ï¼ˆOBSæ¥ç¶šæƒ…å ±ã€ãƒ¢ãƒ‡ãƒ«ãƒ‘ã‚¹ã€ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³è¨­å®šç­‰ï¼‰
  - ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ãƒ‘ãƒ¼ã‚¹ï¼ˆclapä½¿ç”¨ï¼‰
- **ä¾å­˜é–¢ä¿‚**: 2.2

### ğŸ”´ 4.6 ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ

- â³ `src/main.rs` ä½œæˆ
  - ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ­ã‚°åˆæœŸåŒ–
  - è¨­å®šèª­ã¿è¾¼ã¿
  - OBSCaptureåˆæœŸåŒ–
  - VictoryPredictoråˆæœŸåŒ–
  - StateManageråˆæœŸåŒ–
  - HTTPã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆaxumï¼‰
  - ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ï¼ˆ0.25ç§’é–“éš”ã§ç”»åƒå–å¾—â†’æ¨è«–â†’è¨˜éŒ²ï¼‰
- **ä¾å­˜é–¢ä¿‚**: 4.1, 4.2, 4.3, 4.4, 4.5
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ãƒªãƒã‚¸ãƒˆãƒªãƒ¼æ§‹é€ ](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ãƒªãƒã‚¸ãƒˆãƒªãƒ¼æ§‹é€ )

---

## 5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆSvelte + TypeScriptï¼‰

### ğŸ”´ 5.1 OBSç”¨UI

- â³ `frontend/obs-ui/src/App.svelte` ä½œæˆ
  - `tweened` ã‚¹ãƒˆã‚¢ã§ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  - SSEæ¥ç¶šï¼ˆEventSourceï¼‰
  - `counter-update` ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡â†’UIæ›´æ–°
  - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆCSSå¤‰æ•°ã€ãƒ†ã‚­ã‚¹ãƒˆã‚·ãƒ£ãƒ‰ã‚¦ï¼‰
- â³ `frontend/obs-ui/src/main.ts` ä½œæˆ
- â³ `frontend/obs-ui/index.html` ä½œæˆ
- **ä¾å­˜é–¢ä¿‚**: 2.3, 3.1, 3.2
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#OBSç”¨UI](./2025-11-16-04å®Ÿè£…è©³ç´°.md#5-obs-ç”¨-ui-svelte)

### ğŸ”´ 5.2 ç®¡ç†ç”»é¢UI

- â³ `frontend/admin-ui/src/App.svelte` ä½œæˆ
  - `tweened` ã‚¹ãƒˆã‚¢ã§ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  - SSEæ¥ç¶šï¼ˆEventSourceï¼‰
  - localStorageæ°¸ç¶šåŒ–ï¼ˆ`counter_state`ã‚­ãƒ¼ï¼‰
  - `onMount` ã§localStorageå¾©å…ƒâ†’POST /api/initialize
  - èª¿æ•´ãƒœã‚¿ãƒ³ï¼ˆ+/-ï¼‰â†’POST /api/adjust
  - åˆæœŸåŒ–ãƒœã‚¿ãƒ³â†’POST /api/initialize
- â³ `frontend/admin-ui/src/main.ts` ä½œæˆ
- â³ `frontend/admin-ui/index.html` ä½œæˆ
- **ä¾å­˜é–¢ä¿‚**: 2.3, 3.1, 3.2
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ç®¡ç†ç”»é¢UI](./2025-11-16-04å®Ÿè£…è©³ç´°.md#6-ç®¡ç†ç”»é¢-ui-svelte)

### ğŸŸ¡ 5.3 ui-config.jsonå¯¾å¿œ

- â³ OBSç”¨UIã§ui-config.jsonèª­ã¿è¾¼ã¿
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¡¨ç¤º/éè¡¨ç¤ºåˆ¶å¾¡
  - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆorientation, fontSize, gapï¼‰
  - ã‚«ãƒ©ãƒ¼è¨­å®š
- **ä¾å­˜é–¢ä¿‚**: 5.1, 6.1
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ui-config.jsonä»•æ§˜](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ui-configjson-ä»•æ§˜)

---

## 6. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### ğŸŸ¡ 6.1 ui-config.json

- â³ `config/ui-config.json` ä½œæˆ
  ```json
  {
    "components": {
      "victory": true,
      "defeat": true,
      "draw": true
    },
    "layout": {
      "orientation": "horizontal",
      "fontSize": 64,
      "gap": 20
    },
    "colors": {
      "victory": "#4caf50",
      "defeat": "#f44336",
      "draw": "#ff9800"
    }
  }
  ```
- **ä¾å­˜é–¢ä¿‚**: 2.1
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ui-config.jsonä»•æ§˜](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ui-configjson-ä»•æ§˜)

### ğŸŸ¡ 6.2 custom.css

- â³ `templates/custom.css` ä½œæˆï¼ˆã‚µãƒ³ãƒ—ãƒ«CSSï¼‰
  ```css
  /* è‰²ã‚’å¤‰æ›´ */
  .counter-grid {
    --victory-color: #00ff00;
    --defeat-color: #ff0000;
    --font-size: 96px;
  }

  /* ã‚°ãƒ­ãƒ¼åŠ¹æœ */
  .value {
    text-shadow: 0 0 20px currentColor;
  }
  ```
- **ä¾å­˜é–¢ä¿‚**: 2.1
- **å‚ç…§**: [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ#ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•](../specs/ow2-victory-counter-rsã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ.md#ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•)

### ğŸŸ¡ 6.3 ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘README

- â³ `packages/ow2-victory-counter-rs/README.md` ä½œæˆ
  - å¿…è¦ç’°å¢ƒï¼ˆWindows 10/11ã€OBS Studioï¼‰
  - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †
  - èµ·å‹•æ–¹æ³•
  - OBSè¨­å®šï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‚½ãƒ¼ã‚¹è¿½åŠ ï¼‰
  - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **ä¾å­˜é–¢ä¿‚**: ãªã—

---

## 7. ãƒ¢ãƒ‡ãƒ«å¤‰æ›

### ğŸ”´ 7.1 ONNXå¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

- â³ `packages/obs-victory-counter/victory-detector/scripts/convert_to_onnx.py` ä½œæˆ
  - PyTorchãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿
  - ãƒ€ãƒŸãƒ¼å…¥åŠ›ä½œæˆï¼ˆ1, 3, 550, 995ï¼‰
  - torch.onnx.exportå®Ÿè¡Œ
  - label_map.jsonä¿å­˜
  - ç²¾åº¦æ¤œè¨¼ï¼ˆPyTorch vs ONNX Runtimeï¼‰
- **ä¾å­˜é–¢ä¿‚**: ãªã—
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ONNXå¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ](./2025-11-16-04å®Ÿè£…è©³ç´°.md#onnx-å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ)

### ğŸ”´ 7.2 ONNXå¤‰æ›å®Ÿè¡Œ

- â³ PyTorchãƒ¢ãƒ‡ãƒ«â†’ONNXå¤‰æ›
  ```bash
  python scripts/convert_to_onnx.py \
    --input artifacts/models/victory_classifier.pth \
    --output packages/ow2-victory-counter-rs/models/victory_classifier.onnx
  ```
- â³ `models/victory_classifier.label_map.json` ç”Ÿæˆç¢ºèª
- **ä¾å­˜é–¢ä¿‚**: 7.1

---

## 8. ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°

### ğŸ”´ 8.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰

- â³ OBSç”¨UIãƒ“ãƒ«ãƒ‰
  ```bash
  cd frontend/obs-ui
  pnpm install
  pnpm build  # dist/ã«HTML/JS/CSSç”Ÿæˆ
  ```
- â³ ç®¡ç†ç”»é¢UIãƒ“ãƒ«ãƒ‰
  ```bash
  cd frontend/admin-ui
  pnpm install
  pnpm build  # dist/ã«HTML/JS/CSSç”Ÿæˆ
  ```
- **ä¾å­˜é–¢ä¿‚**: 5.1, 5.2
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹)

### ğŸ”´ 8.2 Rusté–‹ç™ºãƒ“ãƒ«ãƒ‰

- â³ é–‹ç™ºãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
  ```bash
  cd packages/ow2-victory-counter-rs
  cargo build
  ```
- **ä¾å­˜é–¢ä¿‚**: 4.1-4.6, 8.1

### ğŸ”´ 8.3 Rustãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰

- â³ ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
  ```bash
  cargo build --release
  # target/release/ow2-victory-detector.exeç”Ÿæˆ
  ```
- **ä¾å­˜é–¢ä¿‚**: 8.1, 8.2
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹)

### ğŸŸ¡ 8.4 é…å¸ƒç‰©ZIPä½œæˆ

- â³ é…å¸ƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä½œæˆ
  ```
  ow2-victory-counter-rs/
  â”œâ”€â”€ ow2-victory-detector.exe
  â”œâ”€â”€ models/
  â”‚   â”œâ”€â”€ victory_classifier.onnx
  â”‚   â””â”€â”€ victory_classifier.label_map.json
  â”œâ”€â”€ config/
  â”‚   â””â”€â”€ ui-config.json
  â”œâ”€â”€ templates/
  â”‚   â””â”€â”€ custom.css
  â””â”€â”€ README.md
  ```
- â³ ZIPåœ§ç¸®
- **ä¾å­˜é–¢ä¿‚**: 8.3, 6.1, 6.2, 6.3, 7.2
- **å‚ç…§**: [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ#é…å¸ƒæ§‹æˆ](../specs/ow2-victory-counter-rsã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ.md#é…å¸ƒæ§‹æˆ)

---

## 9. ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼

### ğŸŸ¡ 9.1 å˜ä½“ãƒ†ã‚¹ãƒˆ

- â³ StateManagerãƒ†ã‚¹ãƒˆï¼ˆé€£ç¶šæ¤œçŸ¥åˆ¤å®šã€çŠ¶æ…‹é·ç§»ï¼‰
- â³ VictoryPredictorãƒ†ã‚¹ãƒˆï¼ˆãƒ€ãƒŸãƒ¼ç”»åƒã§ã®æ¨è«–ï¼‰
- â³ OBSCaptureãƒ†ã‚¹ãƒˆï¼ˆãƒ¢ãƒƒã‚¯ä½¿ç”¨ï¼‰
- **ä¾å­˜é–¢ä¿‚**: 4.1, 4.2, 4.3

### ğŸŸ¡ 9.2 çµåˆãƒ†ã‚¹ãƒˆ

- â³ OBSé€£æºãƒ†ã‚¹ãƒˆï¼ˆå®Ÿéš›ã®OBSã¨æ¥ç¶šï¼‰
- â³ SSEé€šä¿¡ãƒ†ã‚¹ãƒˆï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§å—ä¿¡ç¢ºèªï¼‰
- â³ REST APIãƒ†ã‚¹ãƒˆï¼ˆcurlä½¿ç”¨ï¼‰
- **ä¾å­˜é–¢ä¿‚**: 8.2

### ğŸŸ¡ 9.3 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

- â³ å‡¦ç†æ™‚é–“è¨ˆæ¸¬ï¼ˆBase64ãƒ‡ã‚³ãƒ¼ãƒ‰ã€CNNæ¨è«–ã€SSEé…ä¿¡ï¼‰
- â³ ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è¨ˆæ¸¬
- â³ CPUä½¿ç”¨ç‡è¨ˆæ¸¬
- **ä¾å­˜é–¢ä¿‚**: 8.2
- **å‚ç…§**: [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§](../specs/ow2-victory-counter-rsã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ.md#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§)

### ğŸŸ¡ 9.4 ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

- â³ å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã§ã®ãƒ†ã‚¹ãƒˆ
- â³ å‹æ•—åˆ¤å®šç²¾åº¦ç¢ºèª
- â³ ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³æ©Ÿèƒ½ç¢ºèª
- â³ æ°¸ç¶šåŒ–æ©Ÿèƒ½ç¢ºèªï¼ˆç®¡ç†ç”»é¢ã§localStorageå‹•ä½œç¢ºèªï¼‰
- **ä¾å­˜é–¢ä¿‚**: 8.3

---

## 10. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

### ğŸŸ¡ 10.1 ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰

- â³ ONNX Runtimeã‚¨ãƒ©ãƒ¼å¯¾å‡¦æ³•
- â³ OBS WebSocketæ¥ç¶šã‚¨ãƒ©ãƒ¼å¯¾å‡¦æ³•
- â³ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼å¯¾å‡¦æ³•
- **ä¾å­˜é–¢ä¿‚**: 9.2, 9.4
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

### ğŸŸ¡ 10.2 ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚¬ã‚¤ãƒ‰

- â³ CSSç·¨é›†æ–¹æ³•ï¼ˆcustom.cssï¼‰
- â³ ui-config.jsonç·¨é›†æ–¹æ³•
- â³ ç‹¬è‡ªUIå®Ÿè£…æ–¹æ³•ï¼ˆ/events APIä½¿ç”¨ï¼‰
- **ä¾å­˜é–¢ä¿‚**: 6.1, 6.2
- **å‚ç…§**: [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ#ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•](../specs/ow2-victory-counter-rsã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ.md#ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•)

### ğŸŸ¢ 10.3 é–‹ç™ºè€…å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- â³ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰
- â³ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- â³ ãƒ‡ãƒãƒƒã‚°æ–¹æ³•ã¾ã¨ã‚
- **ä¾å­˜é–¢ä¿‚**: ãªã—
- **å‚ç…§**: [å®Ÿè£…è©³ç´°#ãƒ‡ãƒãƒƒã‚°æ–¹æ³•](./2025-11-16-04å®Ÿè£…è©³ç´°.md#ãƒ‡ãƒãƒƒã‚°æ–¹æ³•)

---

## å®Ÿè£…ã®æ¨å¥¨é †åº

1. **ç’°å¢ƒæ§‹ç¯‰** (1.1, 1.2)
2. **ãƒªãƒã‚¸ãƒˆãƒªãƒ¼æ§‹é€ ** (2.1, 2.2, 2.3)
3. **Viteè¨­å®š** (3.1, 3.2) â† é–‹ç™ºåŠ¹ç‡ã®ãŸã‚æ—©æœŸã«
4. **RuståŸºç›¤å®Ÿè£…** (4.3 StateManager â†’ 4.4 HTTPã‚µãƒ¼ãƒãƒ¼)
5. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…** (5.1, 5.2) â† ã“ã“ã¾ã§ã§é–‹ç™ºç’°å¢ƒå®Œæˆ
6. **ç”»åƒå‡¦ç†ãƒ»æ¨è«–** (7.1, 7.2, 4.1, 4.2)
7. **çµ±åˆ** (4.6 main.rs)
8. **ãƒ†ã‚¹ãƒˆ** (9.1, 9.2, 9.3, 9.4)
9. **ãƒ“ãƒ«ãƒ‰ãƒ»é…å¸ƒ** (8.1, 8.2, 8.3, 8.4)
10. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** (6.3, 10.1, 10.2)

---

## é€²æ—ç®¡ç†

å„ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«ã€ã“ã®æ¬„ã«å®Œäº†æ—¥æ™‚ã¨æ‹…å½“è€…ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚

| ã‚¿ã‚¹ã‚¯ID | å®Œäº†æ—¥æ™‚ | æ‹…å½“è€… | å‚™è€ƒ |
| -------- | -------- | ------ | ---- |
| -        | -        | -      | -    |
